2025-04-06T11:01:10.801+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] c.e.e.controller.EmployeeController      : Getting request to search employees for user: arul@gmail.com
2025-04-06T11:01:10.801+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] c.e.e.service.EmployeeService            : Searching employees by: EmployeeSearchRequestDTO [name=null, departmentId=null, jobTitle=Developer, gender=null] for user: arul@gmail.com
2025-04-06T11:01:10.801+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.name from role r1_0 join user_roles u1_0 on r1_0.id=u1_0.role_id join user u1_1 on u1_1.id=u1_0.user_id where u1_1.username=?
2025-04-06T11:01:10.820+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] c.e.e.service.EmployeeService            : Fetched role for user arul@gmail.com: ROLE_MANAGER
2025-04-06T11:01:10.820+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] org.hibernate.SQL                        : select d1_0.id,d1_0.manager_id,d1_0.name from department d1_0 join user m1_0 on m1_0.id=d1_0.manager_id where m1_0.username=?
2025-04-06T11:01:10.820+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from user u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join role r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
2025-04-06T11:01:10.820+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] c.e.e.service.EmployeeService            : Manager role detected - returning employees from department: IT
2025-04-06T11:01:10.820+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] org.hibernate.SQL                        : select e1_0.id,e1_0.date_of_birth,e1_0.department_id,e1_0.email,e1_0.first_name,e1_0.gender,e1_0.hire_date,e1_0.job_title,e1_0.last_name,e1_0.phone_number,e1_0.salary,e1_0.user_id from employee e1_0 where e1_0.job_title=? and e1_0.department_id=?
2025-04-06T11:01:10.832+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from user u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join role r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
2025-04-06T11:01:35.745+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /employees/search
2025-04-06T11:01:35.748+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] c.e.e.service.CustomUserDetailsService   : Loading user by username: arul@gmail.com
2025-04-06T11:01:35.753+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.password,u1_0.username from user u1_0 where u1_0.username=?
2025-04-06T11:01:35.756+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join role r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2025-04-06T11:01:36.279+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-06T11:01:36.280+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=arul@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D1C3ED8720B67C8D0A6443B17C3F5BAB], Granted Authorities=[ROLE_MANAGER]]
2025-04-06T11:01:36.281+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /employees/search
2025-04-06T11:01:36.282+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] c.e.e.controller.EmployeeController      : Getting request to search employees for user: arul@gmail.com
2025-04-06T11:01:36.282+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] c.e.e.service.EmployeeService            : Searching employees by: EmployeeSearchRequestDTO [name=null, departmentId=null, jobTitle=Tester, gender=null] for user: arul@gmail.com
2025-04-06T11:01:36.282+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.name from role r1_0 join user_roles u1_0 on r1_0.id=u1_0.role_id join user u1_1 on u1_1.id=u1_0.user_id where u1_1.username=?
2025-04-06T11:01:36.282+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] c.e.e.service.EmployeeService            : Fetched role for user arul@gmail.com: ROLE_MANAGER
2025-04-06T11:01:36.282+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : select d1_0.id,d1_0.manager_id,d1_0.name from department d1_0 join user m1_0 on m1_0.id=d1_0.manager_id where m1_0.username=?
2025-04-06T11:01:36.282+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.password,r1_0.user_id,r1_1.id,r1_1.name,u1_0.username from user u1_0 left join user_roles r1_0 on u1_0.id=r1_0.user_id left join role r1_1 on r1_1.id=r1_0.role_id where u1_0.id=?
2025-04-06T11:01:36.282+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] c.e.e.service.EmployeeService            : Manager role detected - returning employees from department: IT
2025-04-06T11:01:36.298+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-2] org.hibernate.SQL                        : select e1_0.id,e1_0.date_of_birth,e1_0.department_id,e1_0.email,e1_0.first_name,e1_0.gender,e1_0.hire_date,e1_0.job_title,e1_0.last_name,e1_0.phone_number,e1_0.salary,e1_0.user_id from employee e1_0 where e1_0.job_title=? and e1_0.department_id=?
2025-04-06T11:01:57.914+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /reports/employees-by-department
2025-04-06T11:01:57.914+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] c.e.e.service.CustomUserDetailsService   : Loading user by username: arul@gmail.com
2025-04-06T11:01:57.916+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.password,u1_0.username from user u1_0 where u1_0.username=?
2025-04-06T11:01:57.920+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join role r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
2025-04-06T11:01:58.481+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-04-06T11:01:58.481+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] o.s.s.w.a.www.BasicAuthenticationFilter  : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=arul@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, CredentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_MANAGER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=D1C3ED8720B67C8D0A6443B17C3F5BAB], Granted Authorities=[ROLE_MANAGER]]
2025-04-06T11:01:58.481+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /reports/employees-by-department
2025-04-06T11:01:58.481+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] c.e.e.controller.ReportController        : Request to get employees by department from user: arul@gmail.com
2025-04-06T11:01:58.481+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.name from role r1_0 join user_roles u1_0 on r1_0.id=u1_0.role_id join user u1_1 on u1_1.id=u1_0.user_id where u1_1.username=?
2025-04-06T11:01:58.498+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] c.e.e.service.EmployeeService            : Fetched role for user arul@gmail.com: ROLE_MANAGER
2025-04-06T11:01:58.498+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] c.e.e.service.ReportService              : Generating department report for role: MANAGER
2025-04-06T11:01:58.498+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-1] org.hibernate.SQL                        : select d1_0.name,count(e1_0.id),avg(e1_0.salary),sum(e1_0.salary) from employee e1_0 join department d1_0 on d1_0.id=e1_0.department_id join user m1_0 on m1_0.id=d1_0.manager_id where m1_0.username=? group by d1_0.name
2025-04-06T11:02:18.496+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /reports/total-salary-by-department
2025-04-06T11:02:18.508+05:30  INFO 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-10] c.e.e.service.CustomUserDetailsService   : Loading user by username: arul@gmail.com
2025-04-06T11:02:18.508+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.password,u1_0.username from user u1_0 where u1_0.username=?
2025-04-06T11:02:18.508+05:30 DEBUG 7788 --- [EmployeeManagementSystem] [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.user_id,r1_1.id,r1_1.name from user_roles r1_0 join role r1_1 on r1_1.id=r1_0.role_id where r1_0.user_id=?
